<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="AI Music Synthesizer, SynthAI Pro, Music Generation, Audio Production" />
  <title>SynthAI Pro ‚Äì Ultimate Music Studio</title>
  
  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <!-- Tone.js -->
  <script src="https://cdn.jsdelivr.net/npm/tone@14.7.77/build/Tone.min.js"></script>
  
  <!-- FileSaver.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  
  <!-- MIDI.js for MIDI export -->
  <script src="https://cdn.jsdelivr.net/npm/midi-writer-js@2.0.2/dist/midi-writer.min.js"></script>
  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
  <style>
    :root {
      --primary: #6a11cb;
      --secondary: #2575fc;
      --dark: #0f0c29;
      --darker: #08061a;
      --light: #f8f9fa;
      --accent: #ff4e50;
      --success: #00c9a7;
      --warning: #ffc107;
      --panel-bg: rgba(25, 25, 50, 0.8);
      --panel-border: rgba(100, 100, 255, 0.3);
      --glow: rgba(37, 117, 252, 0.5);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    body {
      background: linear-gradient(135deg, var(--darker), var(--dark));
      color: var(--light);
      min-height: 100vh;
      padding: 20px;
      overflow-x: hidden;
      line-height: 1.6;
      position: relative;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    header {
      text-align: center;
      padding: 40px 0;
      margin-bottom: 40px;
      position: relative;
      animation: fadeIn 1s ease-out;
    }

    .logo {
      font-size: 3.5rem;
      margin-bottom: 15px;
      background: linear-gradient(to right, var(--primary), var(--secondary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: inline-block;
      animation: glow 2s ease-in-out infinite alternate;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 10px;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 15px rgba(0,0,0,0.3);
      font-weight: 900;
      letter-spacing: -1px;
    }

    .subtitle {
      font-size: 1.4rem;
      opacity: 0.85;
      max-width: 800px;
      margin: 0 auto 20px;
      font-weight: 300;
      line-height: 1.8;
    }

    .tabs {
      display: flex;
      justify-content: center;
      margin-bottom: 30px;
      gap: 12px;
      flex-wrap: wrap;
    }

    .tab {
      padding: 12px 30px;
      background: rgba(100, 100, 255, 0.15);
      border-radius: 30px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid var(--panel-border);
      font-weight: 600;
      font-size: 1rem;
    }

    .tab.active, .tab:hover {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      border-color: transparent;
      box-shadow: 0 0 20px var(--glow);
      color: white;
    }

    .app-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 50px;
    }

    @media (max-width: 1200px) {
      .app-container {
        grid-template-columns: 1fr;
      }
    }

    .panel {
      background: var(--panel-bg);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.4);
      border: 1px solid var(--panel-border);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .panel:hover {
      transform: translateY(-8px);
      box-shadow: 0 25px 50px rgba(0,0,0,0.5);
    }

    .panel::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(106,17,203,0.15) 0%, rgba(37,117,252,0.05) 70%, transparent 100%);
      z-index: -1;
      animation: pulseBg 10s infinite ease-in-out;
    }

    .panel-title {
      font-size: 1.8rem;
      margin-bottom: 25px;
      color: var(--secondary);
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .panel-title i {
      font-size: 2rem;
      color: var(--primary);
    }

    .control-group {
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .control-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .control-label {
      font-weight: 600;
      font-size: 1.2rem;
      color: var(--light);
    }

    .control-description {
      font-size: 0.9rem;
      opacity: 0.7;
      margin-bottom: 15px;
      line-height: 1.5;
    }

    .slider-container {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }

    .slider-container span {
      min-width: 120px;
      font-weight: 500;
    }

    .slider {
      flex: 1;
      -webkit-appearance: none;
      height: 10px;
      border-radius: 5px;
      background: rgba(255,255,255,0.1);
      outline: none;
      transition: background 0.3s ease;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--secondary);
      cursor: pointer;
      box-shadow: 0 0 15px var(--glow);
      border: 2px solid white;
      transition: all 0.2s ease;
    }

    .slider::-webkit-slider-thumb:hover {
      transform: scale(1.15);
      background: var(--primary);
      box-shadow: 0 0 20px var(--glow);
    }

    .value-display {
      min-width: 60px;
      text-align: center;
      background: rgba(0,0,0,0.4);
      padding: 8px 12px;
      border-radius: 20px;
      font-family: 'Courier New', monospace;
      font-weight: 600;
      font-size: 0.95rem;
    }

    select {
      padding: 10px 15px;
      border-radius: 8px;
      border: 1px solid var(--panel-border);
      background: rgba(0,0,0,0.3);
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
    }

    select:hover, select:focus {
      border-color: var(--secondary);
      background: rgba(0,0,0,0.5);
    }

    .btn-group {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      margin-top: 20px;
    }

    .btn {
      padding: 15px 30px;
      border-radius: 12px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-size: 1rem;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn-primary {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      color: white;
      flex: 1;
      min-width: 180px;
    }

    .btn-secondary {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 1px solid rgba(255,255,255,0.2);
      flex: 1;
      min-width: 180px;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .visualizer-container {
      position: relative;
      height: 250px;
      background: rgba(0,0,0,0.3);
      border-radius: 15px;
      margin: 25px 0;
      overflow: hidden;
      border: 1px solid var(--panel-border);
      transition: all 0.3s ease;
    }

    .visualizer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .visualizer-mode-selector {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    .visualizer-mode-btn {
      padding: 8px 15px;
      border-radius: 20px;
      background: rgba(255,255,255,0.1);
      border: 1px solid var(--panel-border);
      color: white;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .visualizer-mode-btn.active {
      background: var(--secondary);
      border-color: transparent;
    }

    .piano-roll {
      display: grid;
      grid-template-columns: repeat(16, 1fr);
      gap: 8px;
      margin-top: 25px;
      border-radius: 10px;
      overflow: hidden;
      background: rgba(0,0,0,0.3);
      padding: 15px;
      border: 1px solid var(--panel-border);
    }

    .note {
      width: 100%;
      aspect-ratio: 1;
      background: #444;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
      animation: notePulse 2s infinite ease-in-out;
    }

    .note:hover {
      transform: scale(1.1);
      box-shadow: 0 0 15px var(--glow);
    }

    .note.active {
      background: var(--secondary);
      box-shadow: 0 0 20px var(--glow);
      animation: noteActivePulse 1s infinite ease-in-out;
    }

    .note::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.4));
    }

    .note-label {
      position: absolute;
      bottom: 5px;
      left: 0;
      width: 100%;
      text-align: center;
      font-size: 0.8rem;
      color: rgba(255,255,255,0.9);
      font-weight: bold;
      z-index: 1;
    }

    .presets-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .preset-card {
      background: linear-gradient(to bottom right, rgba(50, 50, 100, 0.7), rgba(30, 30, 60, 0.9));
      border-radius: 15px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid var(--panel-border);
      position: relative;
      overflow: hidden;
      animation: presetFadeIn 0.5s ease-out;
    }

    .preset-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.5);
      border-color: var(--secondary);
    }

    .preset-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      transition: all 0.3s ease;
    }

    .preset-card:hover::before {
      height: 100%;
      opacity: 0.1;
    }

    .preset-card h4 {
      margin-bottom: 10px;
      color: var(--secondary);
      font-size: 1.3rem;
      font-weight: 700;
    }

    .preset-card p {
      font-size: 1rem;
      opacity: 0.85;
      margin-bottom: 15px;
      line-height: 1.5;
    }

    .preset-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .tag {
      background: rgba(100, 100, 255, 0.2);
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 500;
    }

    .status-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(0,0,0,0.85);
      padding: 15px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.95rem;
      z-index: 100;
      border-top: 1px solid var(--panel-border);
      box-shadow: 0 -5px 15px rgba(0,0,0,0.3);
    }

    .status-item {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 500;
    }

    .status-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--success);
      box-shadow: 0 0 10px var(--success);
      animation: statusPulse 2s infinite ease-in-out;
    }

    .status-item .icon {
      color: var(--secondary);
      font-size: 1.2rem;
    }

    footer {
      text-align: center;
      padding: 50px 0 100px;
      opacity: 0.7;
      font-size: 1rem;
      font-weight: 300;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px var(--glow); }
      to { text-shadow: 0 0 20px var(--glow); }
    }

    @keyframes pulseBg {
      0% { transform: scale(1); opacity: 0.1; }
      50% { transform: scale(1.2); opacity: 0.15; }
      100% { transform: scale(1); opacity: 0.1; }
    }

    @keyframes notePulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    @keyframes noteActivePulse {
      0% { box-shadow: 0 0 10px var(--glow); }
      50% { box-shadow: 0 0 20px var(--glow); }
      100% { box-shadow: 0 0 10px var(--glow); }
    }

    @keyframes presetFadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes statusPulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.3); opacity: 0.7; }
      100% { transform: scale(1); opacity: 1; }
    }

    @media (max-width: 768px) {
      .app-container {
        gap: 20px;
      }

      .panel {
        padding: 20px;
      }

      h1 {
        font-size: 2.4rem;
      }

      .subtitle {
        font-size: 1.2rem;
      }

      .btn {
        padding: 12px 20px;
        font-size: 0.95rem;
      }

      .presets-grid {
        grid-template-columns: 1fr;
      }

      .piano-roll {
        grid-template-columns: repeat(8, 1fr);
      }

      .note {
        aspect-ratio: 1/0.6;
      }

      .slider-container span {
        min-width: 80px;
      }
      
      .status-bar {
        flex-direction: column;
        gap: 10px;
        padding: 10px;
      }
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 12px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(0,0,0,0.2);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--secondary);
      border-radius: 6px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--primary);
    }

    /* Tooltips */
    .tooltip {
      position: relative;
      display: inline-block;
      cursor: help;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 220px;
      background: rgba(10, 10, 30, 0.95);
      color: #fff;
      text-align: center;
      border-radius: 8px;
      padding: 12px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.9rem;
      font-weight: normal;
      backdrop-filter: blur(10px);
      border: 1px solid var(--panel-border);
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    .progress-container {
      width: 100%;
      height: 8px;
      background: rgba(255,255,255,0.1);
      border-radius: 4px;
      overflow: hidden;
      margin-top: 15px;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      width: 0%;
      transition: width 0.5s ease;
    }

    .text2music {
      margin-top: 20px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .text2music input {
      flex: 1;
      padding: 12px 15px;
      border-radius: 8px;
      border: 1px solid var(--panel-border);
      background: rgba(0,0,0,0.3);
      color: white;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    .text2music input:focus {
      border-color: var(--secondary);
      background: rgba(0,0,0,0.5);
      outline: none;
    }

    .gradient-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at top right, rgba(106,17,203,0.2), transparent 50%),
                  radial-gradient(circle at bottom left, rgba(37,117,252,0.2), transparent 50%);
      z-index: -1;
      animation: gradientShift 20s infinite ease-in-out;
    }

    @keyframes gradientShift {
      0% { transform: translate(0, 0); }
      50% { transform: translate(10%, 10%); }
      100% { transform: translate(0, 0); }
    }

    .loader {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: var(--secondary);
      animation: spin 1s ease-in-out infinite;
      margin-left: 10px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Accessibility */
    [tabindex="0"]:focus, button:focus, select:focus, input:focus {
      outline: 2px solid var(--secondary);
      outline-offset: 2px;
    }

    /* Font import */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap');
  </style>
</head>
<body>
  <div id="root"></div>

  <script>
    const { useState, useEffect, useRef, useMemo, useCallback } = React;

    const SCALES = {
      C_Major: ["C4","D4","E4","F4","G4","A4","B4","C5"],
      Pentatonic: ["C4","D4","E4","G4","A4","C5"],
      Raga_Bhairav: ["C4","Db4","E4","F4","G4","Ab4","B4","C5"],
      Raga_Miyan: ["C4","Db4","Eb4","G4","Ab4","C5"],
      Harmonic_Minor: ["C4","D4","Eb4","F4","G4","Ab4","B4","C5"],
      Melodic_Minor: ["C4","D4","Eb4","F4","G4","A4","B4","C5"],
      Blues: ["C4","Eb4","F4","Gb4","G4","Bb4","C5"],
      Chromatic: ["C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","B4"]
    };

    const CHORDS = {
      Root: [0],
      Major: [0,4,7],
      Minor: [0,3,7],
      Sus2: [0,2,7],
      Sus4: [0,5,7],
      Seventh: [0,4,7,10],
      Major7: [0,4,7,11],
      Minor7: [0,3,7,10],
      Diminished: [0,3,6],
      Augmented: [0,4,8],
      Add9: [0,4,7,14],
      Ninth: [0,4,7,10,14]
    };

    const INSTRUMENTS = {
      Piano: { 
        type: "sine", 
        envelope: { attack: 0.01, decay: 0.2, sustain: 0.1, release: 0.5 },
        filter: { type: "lowpass", frequency: 3000 }
      },
      Strings: { 
        type: "sawtooth", 
        envelope: { attack: 0.5, decay: 0.2, sustain: 0.7, release: 1.5 },
        filter: { type: "lowpass", frequency: 1800 }
      },
      Pad: { 
        type: "sine", 
        envelope: { attack: 1, decay: 0.5, sustain: 0.8, release: 3 },
        filter: { type: "lowpass", frequency: 1200 }
      },
      Flute: { 
        type: "triangle", 
        envelope: { attack: 0.3, decay: 0.2, sustain: 0.6, release: 0.5 },
        filter: { type: "highpass", frequency: 800 }
      },
      Guitar: { 
        type: "sawtooth", 
        envelope: { attack: 0.01, decay: 0.3, sustain: 0.2, release: 0.5 },
        filter: { type: "bandpass", frequency: 2000 }
      },
      Marimba: { 
        type: "square", 
        envelope: { attack: 0.001, decay: 0.5, sustain: 0.01, release: 0.3 },
        filter: { type: "lowpass", frequency: 2500 }
      },
      Bell: { 
        type: "sine", 
        envelope: { attack: 0.001, decay: 2, sustain: 0.1, release: 2 },
        filter: { type: "highpass", frequency: 1500 }
      },
      SynthLead: { 
        type: "pulse", 
        envelope: { attack: 0.05, decay: 0.2, sustain: 0.5, release: 0.5 },
        filter: { type: "lowpass", frequency: 3500 }
      }
    };

    const EMOTIONS = {
      Joyful: { tempo: 140, complexity: 7, harmony: 8, brightness: 75, scale: "C_Major", chord: "Major" },
      Reflective: { tempo: 80, complexity: 5, harmony: 9, brightness: 50, scale: "Harmonic_Minor", chord: "Minor" },
      Romantic: { tempo: 100, complexity: 8, harmony: 9, brightness: 65, scale: "Melodic_Minor", chord: "Major7" },
      Nostalgic: { tempo: 90, complexity: 6, harmony: 7, brightness: 45, scale: "Pentatonic", chord: "Sus4" },
      Dreamy: { tempo: 70, complexity: 4, harmony: 6, brightness: 60, scale: "Raga_Miyan", chord: "Add9" },
      Energetic: { tempo: 160, complexity: 9, harmony: 7, brightness: 85, scale: "Blues", chord: "Seventh" },
      Mysterious: { tempo: 110, complexity: 8, harmony: 8, brightness: 55, scale: "Raga_Bhairav", chord: "Minor7" }
    };

    const VISUALIZER_MODES = ["spectrum", "waveform", "particles"];

    function App() {
      const [scale, setScale] = useState("C_Major");
      const [chordType, setChordType] = useState("Major");
      const [sequence, setSequence] = useState(Array(16).fill(false));
      const [volume, setVolume] = useState(0.5);
      const [tempo, setTempo] = useState(120);
      const [velocityAccent, setVelocityAccent] = useState(1);
      const [instrument, setInstrument] = useState("Piano");
      const [emotion, setEmotion] = useState("Romantic");
      const [complexity, setComplexity] = useState(7);
      const [harmonyDepth, setHarmonyDepth] = useState(8);
      const [brightness, setBrightness] = useState(65);
      const [isPlaying, setIsPlaying] = useState(false);
      const [isGenerating, setIsGenerating] = useState(false);
      const [visualizerMode, setVisualizerMode] = useState("spectrum");
      const [distortion, setDistortion] = useState(0.2);
      const [chorus, setChorus] = useState(0.5);

      const synthRef = useRef(null);
      const seqRef = useRef(null);
      const filterRef = useRef(null);
      const delayRef = useRef(null);
      const reverbRef = useRef(null);
      const distortionRef = useRef(null);
      const chorusRef = useRef(null);
      const recorderRef = useRef(null);
      const visualizerRef = useRef(null);
      const ctxRef = useRef(null);
      const animationRef = useRef(null);
      const analyserRef = useRef(null);
      const particlesRef = useRef([]);
      const sequenceRef = useRef(sequence);
      const scaleRef = useRef(scale);
      const chordTypeRef = useRef(chordType);
      const velocityAccentRef = useRef(velocityAccent);

      // Memoized settings to prevent unnecessary re-renders
      const instrumentSettings = useMemo(() => INSTRUMENTS[instrument], [instrument]);

      // Update refs
      useEffect(() => {
        sequenceRef.current = sequence;
        scaleRef.current = scale;
        chordTypeRef.current = chordType;
        velocityAccentRef.current = velocityAccent;
      }, [sequence, scale, chordType, velocityAccent]);

      // Initialize audio context
      useEffect(() => {
        const initAudio = async () => {
          // Initialize effects chain
          filterRef.current = new Tone.Filter(5000, "lowpass");
          chorusRef.current = new Tone.Chorus(4, 2.5, 0.5).start();
          distortionRef.current = new Tone.Distortion(0.2);
          delayRef.current = new Tone.FeedbackDelay("8n", 0.2);
          reverbRef.current = new Tone.Reverb({ decay: 3, wet: 0.2 });
          
          // Connect effects chain
          reverbRef.current.connect(filterRef.current);
          delayRef.current.connect(reverbRef.current);
          distortionRef.current.connect(delayRef.current);
          chorusRef.current.connect(distortionRef.current);
          filterRef.current.toDestination();

          // Initialize analyser
          analyserRef.current = new Tone.Analyser("fft", 1024);
          filterRef.current.connect(analyserRef.current);

          // Initialize synth
          updateSynth();

          // Set initial tempo
          Tone.Transport.bpm.value = tempo;

          // Initialize sequence
          seqRef.current = new Tone.Sequence((time, noteIdx) => {
            if (sequenceRef.current[noteIdx]) {
              const baseScale = SCALES[scaleRef.current];
              const chordIntervals = CHORDS[chordTypeRef.current];
              const rootIdx = noteIdx % baseScale.length;
              const notes = chordIntervals.map(i => baseScale[(rootIdx + i) % baseScale.length]);
              const vel = velocityAccentRef.current;
              synthRef.current.triggerAttackRelease(notes, "8n", time, vel);
            }
          }, [...Array(16).keys()], "16n");

          // Initialize recorder
          recorderRef.current = new Tone.Recorder();
          filterRef.current.connect(recorderRef.current);

          // Initialize visualizer canvas
          const canvas = document.createElement('canvas');
          canvas.width = 1200;
          canvas.height = 250;
          visualizerRef.current = canvas;
          ctxRef.current = canvas.getContext('2d');
        };

        initAudio();

        return () => {
          if (animationRef.current) cancelAnimationFrame(animationRef.current);
          if (Tone.Transport.state === "started") Tone.Transport.stop();
          if (seqRef.current) seqRef.current.stop();
          if (synthRef.current) synthRef.current.dispose();
          [filterRef, delayRef, reverbRef, distortionRef, chorusRef, recorderRef, analyserRef].forEach(ref => {
            if (ref.current) ref.current.dispose();
          });
        };
      }, []);

      // Update synth when instrument or brightness changes
      const updateSynth = useCallback(() => {
        if (synthRef.current) synthRef.current.dispose();

        synthRef.current = new Tone.PolySynth(Tone.Synth, {
          oscillator: { type: instrumentSettings.type },
          envelope: instrumentSettings.envelope
        }).connect(chorusRef.current);

        synthRef.current.volume.value = Tone.gainToDb(volume);
        filterRef.current.frequency.value = 500 + (brightness * 50);
        filterRef.current.type = instrumentSettings.filter.type;
      }, [instrumentSettings, brightness, volume]);

      useEffect(() => {
        updateSynth();
      }, [updateSynth]);

      // Update effects
      useEffect(() => {
        if (distortionRef.current) distortionRef.current.distortion = distortion;
      }, [distortion]);

      useEffect(() => {
        if (chorusRef.current) chorusRef.current.wet.value = chorus;
      }, [chorus]);

      // Update volume and tempo
      useEffect(() => {
        if (synthRef.current) synthRef.current.volume.value = Tone.gainToDb(volume);
      }, [volume]);

      useEffect(() => {
        if (Tone.Transport) Tone.Transport.bpm.value = tempo;
      }, [tempo]);

      // Apply emotion settings
      const applyEmotionSettings = useCallback((settings) => {
        setTempo(settings.tempo);
        setComplexity(settings.complexity);
        setHarmonyDepth(settings.harmony);
        setBrightness(settings.brightness);
        setScale(settings.scale);
        setChordType(settings.chord);
      }, []);

      // Toggle piano roll beat
      const toggleBeat = useCallback((i) => {
        setSequence(prev => {
          const seq = [...prev];
          seq[i] = !seq[i];
          return seq;
        });
      }, []);

      // Start/stop playback
      const startStop = useCallback(async () => {
        if (Tone.Transport.state !== "started") {
          await Tone.start();
          setIsPlaying(true);
          recorderRef.current.start();
          seqRef.current.start(0);
          Tone.Transport.start();
          startVisualizer();
        } else {
          Tone.Transport.stop();
          setIsPlaying(false);
          seqRef.current.stop();
          recorderRef.current.stop();
          stopVisualizer();
        }
      }, []);

      // Export WAV
      const downloadRecording = useCallback(async () => {
        const recording = await recorderRef.current.stop();
        const blob = new Blob([await recording.arrayBuffer()], { type: "audio/wav" });
        saveAs(blob, `synthai_recording_${Date.now()}.wav`);
      }, []);

      // Export MIDI
      const exportMidi = useCallback(() => {
        const track = new MidiWriter.Track();
        track.setTempo(tempo);

        sequence.forEach((active, i) => {
          if (active) {
            const baseScale = SCALES[scale];
            const chordIntervals = CHORDS[chordType];
            const rootIdx = i % baseScale.length;
            const notes = chordIntervals.map(interval => baseScale[(rootIdx + interval) % baseScale.length]);
            notes.forEach(note => {
              track.addEvent(new MidiWriter.NoteEvent({
                pitch: [note],
                duration: '8',
                velocity: Math.round(velocityAccent * 100),
                startTick: i * 240
              }));
            });
          }
        });

        const write = new MidiWriter.Writer(track);
        const midiData = write.dataUri();
        const link = document.createElement('a');
        link.href = midiData;
        link.download = `synthai_midi_${Date.now()}.mid`;
        link.click();
      }, [sequence, scale, chordType, tempo, velocityAccent]);

      // Generate music from text prompt
      const callGenerate = useCallback(async () => {
        const prompt = document.getElementById("prompt").value;
        if (!prompt.trim()) {
          alert("Please enter a music description");
          return;
        }

        setIsGenerating(true);
        try {
          // Simulate AI mood analysis
          const moodKeywords = {
            chill: "Dreamy",
            upbeat: "Energetic",
            sad: "Reflective",
            romantic: "Romantic",
            mysterious: "Mysterious",
            happy: "Joyful"
          };

          const detectedMood = Object.keys(moodKeywords).find(keyword => prompt.toLowerCase().includes(keyword)) || "Romantic";
          applyEmotionSettings(EMOTIONS[moodKeywords[detectedMood]]);

          // Generate random sequence based on complexity
          const newSequence = Array(16).fill(false).map(() => Math.random() < (complexity / 10));
          setSequence(newSequence);

          // Simulate API call
          await new Promise(resolve => setTimeout(resolve, 2000));

          // Play generated sequence
          const baseScale = SCALES[scale];
          const synth = new Tone.PolySynth(Tone.Synth).toDestination();
          const seq = new Tone.Sequence((time, index) => {
            if (newSequence[index]) {
              const chordIntervals = CHORDS[chordType];
              const rootIdx = index % baseScale.length;
              const notes = chordIntervals.map(i => baseScale[(rootIdx + i) % baseScale.length]);
              synth.triggerAttackRelease(notes, "8n", time);
            }
          }, [...Array(16).keys()], "16n");

          seq.start();
          Tone.Transport.start();
          setTimeout(() => {
            Tone.Transport.stop();
            seq.dispose();
            synth.dispose();
          }, 4000);

          alert(`Music generated for prompt: "${prompt}"\nMood detected: ${moodKeywords[detectedMood]}`);
        } catch (e) {
          console.error("Generation error:", e);
          alert("Failed to generate music. Please try again.");
        } finally {
          setIsGenerating(false);
        }
      }, [complexity, scale, chordType, applyEmotionSettings]);

      // Visualizer logic
      const startVisualizer = useCallback(() => {
        if (!visualizerRef.current || !ctxRef.current || !analyserRef.current) return;

        const canvas = visualizerRef.current;
        const ctx = ctxRef.current;
        const width = canvas.width;
        const height = canvas.height;

        // Initialize particles for particle mode
        particlesRef.current = Array(100).fill().map(() => ({
          x: Math.random() * width,
          y: Math.random() * height,
          size: Math.random() * 5 + 2,
          speedX: (Math.random() - 0.5) * 2,
          speedY: (Math.random() - 0.5) * 2
        }));

        const draw = () => {
          ctx.fillStyle = 'rgba(10, 20, 40, 0.2)';
          ctx.fillRect(0, 0, width, height);
          const values = analyserRef.current.getValue();

          if (visualizerMode === "spectrum") {
            const barCount = 64;
            const barWidth = width / barCount;
            for (let i = 0; i < barCount; i++) {
              const barIndex = Math.floor(i * values.length / barCount);
              const barHeight = Math.max(1, (values[barIndex] + 50) * 2);
              const hue = (i / barCount) * 360;
              ctx.fillStyle = `hsl(${hue}, 80%, 50%)`;
              ctx.fillRect(i * barWidth, height - barHeight, barWidth - 2, barHeight);
            }
          } else if (visualizerMode === "waveform") {
            ctx.beginPath();
            ctx.strokeStyle = 'hsl(220, 100%, 50%)';
            ctx.lineWidth = 2;
            const sliceWidth = width / values.length;
            for (let i = 0; i < values.length; i++) {
              const v = (values[i] + 50) / 100;
              const y = height / 2 + v * height / 4;
              if (i === 0) {
                ctx.moveTo(0, y);
              } else {
                ctx.lineTo(i * sliceWidth, y);
              }
            }
            ctx.stroke();
          } else if (visualizerMode === "particles") {
            particlesRef.current.forEach(p => {
              p.x += p.speedX;
              p.y += p.speedY;
              if (p.x < 0 || p.x > width) p.speedX *= -1;
              if (p.y < 0 || p.y > height) p.speedY *= -1;
              
              const energy = values.reduce((sum, val) => sum + (val + 50), 0) / values.length;
              p.size = Math.max(2, 5 + energy / 20);
              
              ctx.beginPath();
              ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
              ctx.fillStyle = `hsl(${energy * 5}, 80%, 50%)`;
              ctx.fill();
            });
          }

          animationRef.current = requestAnimationFrame(draw);
        };

        draw();
      }, [visualizerMode]);

      const stopVisualizer = useCallback(() => {
        if (animationRef.current) {
          cancelAnimationFrame(animationRef.current);
          animationRef.current = null;
          if (ctxRef.current && visualizerRef.current) {
            ctxRef.current.fillStyle = 'rgba(10, 20, 40, 0.3)';
            ctxRef.current.fillRect(0, 0, visualizerRef.current.width, visualizerRef.current.height);
          }
        }
      }, []);

      return (
        <div className="container">
          <div className="gradient-bg"></div>
          <header>
            <div className="logo">
              <i className="fas fa-wave-square"></i>
            </div>
            <h1>SynthAI Pro ‚Äì Ultimate Music Studio</h1>
            <p className="subtitle">Unleash your creativity with AI-powered music synthesis and professional-grade controls</p>
          </header>

          <div className="tabs">
            <div className="tab active">Sequencer</div>
            <div className="tab">Presets</div>
            <div className="tab">AI Generator</div>
          </div>

          <div className="app-container">
            <div className="panel">
              <h2 className="panel-title">
                <i className="fas fa-sliders-h"></i> Synthesis Controls
              </h2>

              <div className="control-group">
                <div className="control-header">
                  <label className="control-label">Musical Settings</label>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Scale
                    <span className="tooltiptext">Choose the musical scale for your composition</span>
                  </span>
                  <select value={scale} onChange={e => setScale(e.target.value)} aria-label="Select musical scale">
                    {Object.keys(SCALES).map(s => <option key={s} value={s}>{s}</option>)}
                  </select>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Chord Type
                    <span className="tooltiptext">Select the chord structure for harmony</span>
                  </span>
                  <select value={chordType} onChange={e => setChordType(e.target.value)} aria-label="Select chord type">
                    {Object.keys(CHORDS).map(c => <option key={c} value={c}>{c}</option>)}
                  </select>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Instrument
                    <span className="tooltiptext">Pick the instrument for your sound</span>
                  </span>
                  <select value={instrument} onChange={e => setInstrument(e.target.value)} aria-label="Select instrument">
                    {Object.keys(INSTRUMENTS).map(i => <option key={i} value={i}>{i}</option>)}
                  </select>
                </div>
              </div>

              <div className="control-group">
                <div className="control-header">
                  <label className="control-label">Performance Parameters</label>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Tempo: {tempo} BPM
                    <span className="tooltiptext">Adjust the speed of the sequence</span>
                  </span>
                  <input type="range" min="60" max="200" value={tempo} onChange={e => setTempo(+e.target.value)} className="slider" aria-label={`Tempo: ${tempo} BPM`} />
                  <span className="value-display">{tempo}</span>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Volume
                    <span className="tooltiptext">Control the overall loudness</span>
                  </span>
                  <input type="range" min="0" max="1" step="0.01" value={volume} onChange={e => setVolume(+e.target.value)} className="slider" aria-label="Volume" />
                  <span className="value-display">{Math.round(volume * 100)}%</span>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Accent Velocity
                    <span className="tooltiptext">Adjust the strength of note attacks</span>
                  </span>
                  <input type="range" min="0.5" max="1" step="0.05" value={velocityAccent} onChange={e => setVelocityAccent(+e.target.value)} className="slider" aria-label="Accent velocity" />
                  <span className="value-display">{velocityAccent.toFixed(2)}</span>
                </div>
              </div>

              <div className="control-group">
                <div className="control-header">
                  <label className="control-label">Sound Design</label>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Reverb
                    <span className="tooltiptext">Add spatial depth to the sound</span>
                  </span>
                  <input type="range" min="0" max="1" step="0.01" defaultValue="0.2" onChange={e => reverbRef.current.wet.value = +e.target.value} className="slider" aria-label="Reverb" />
                </div>
                <div className="slider-container">
                  <span className="tooltip">Delay
                    <span className="tooltiptext">Create echo effects</span>
                  </span>
                  <input type="range" min="0" max="1" step="0.01" defaultValue="0.2" onChange={e => delayRef.current.wet.value = +e.target.value} className="slider" aria-label="Delay" />
                </div>
                <div className="slider-container">
                  <span className="tooltip">Distortion
                    <span className="tooltiptext">Add grit and warmth to the sound</span>
                  </span>
                  <input type="range" min="0" max="1" step="0.01" value={distortion} onChange={e => setDistortion(+e.target.value)} className="slider" aria-label="Distortion" />
                  <span className="value-display">{Math.round(distortion * 100)}%</span>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Chorus
                    <span className="tooltiptext">Create a lush, detuned effect</span>
                  </span>
                  <input type="range" min="0" max="1" step="0.01" value={chorus} onChange={e => setChorus(+e.target.value)} className="slider" aria-label="Chorus" />
                  <span className="value-display">{Math.round(chorus * 100)}%</span>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Brightness
                    <span className="tooltiptext">Control the high-frequency content</span>
                  </span>
                  <input type="range" min="0" max="100" step="1" value={brightness} onChange={e => setBrightness(+e.target.value)} className="slider" aria-label="Brightness" />
                  <span className="value-display">{brightness}</span>
                </div>
              </div>

              <div className="control-group">
                <div className="control-header">
                  <label className="control-label">Emotional Expression</label>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Emotion
                    <span className="tooltiptext">Select a mood for your composition</span>
                  </span>
                  <select value={emotion} onChange={e => { 
                    setEmotion(e.target.value); 
                    applyEmotionSettings(EMOTIONS[e.target.value]);
                  }} aria-label="Select emotional mood">
                    {Object.keys(EMOTIONS).map(e => <option key={e} value={e}>{e}</option>)}
                  </select>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Complexity: {complexity}
                    <span className="tooltiptext">Adjust the intricacy of the sequence</span>
                  </span>
                  <input type="range" min="1" max="10" value={complexity} onChange={e => setComplexity(+e.target.value)} className="slider" aria-label={`Complexity: ${complexity}`} />
                  <span className="value-display">{complexity}</span>
                </div>
                <div className="slider-container">
                  <span className="tooltip">Harmony Depth: {harmonyDepth}
                    <span className="tooltiptext">Control the richness of harmonic layers</span>
                  </span>
                  <input type="range" min="1" max="10" value={harmonyDepth} onChange={e => setHarmonyDepth(+e.target.value)} className="slider" aria-label="Harmony Depth" />
                  <span className="value-display">{harmonyDepth}</span>
                </div>
              </div>

              <div className="btn-group">
                <button className="btn btn-primary" onClick={startStop} aria-label={isPlaying ? "Pause" : "Play"}>
                  <i className="fas fa-play"></i> {isPlaying ? "‚è∏Ô∏è Pause" : "‚ñ∂Ô∏è Play"}
                </button>
                <button className="btn btn-secondary" onClick={downloadRecording} aria-label="Export WAV">
                  <i className="fas fa-download"></i> Export WAV
                </button>
                <button className="btn btn-secondary" onClick={exportMidi} aria-label="Export MIDI">
                  <i className="fas fa-file-export"></i> Export MIDI
                </button>
              </div>
            </div>

            <div className="panel">
              <h2 className="panel-title">
                <i className="fas fa-music"></i> Piano Roll & Visualizer
              </h2>

              <div className="visualizer-controls">
                <div className="visualizer-mode-selector">
                  {VISUALIZER_MODES.map(mode => (
                    <span
                      key={mode}
                      className={`visualizer-mode-btn ${visualizerMode === mode ? "active" : ""}`}
                      onClick={() => setVisualizerMode(mode)}
                      role="button"
                      tabIndex="0"
                      aria-label={`Select ${mode} visualizer mode`}
                    >
                      {mode.charAt(0).toUpperCase() + mode.slice(1)}
                    </span>
                  ))}
                </div>
                <div className="visualizer-container">
                  <canvas ref={visualizerRef} className="visualizer"></canvas>
                </div>
              </div>

              <div className="piano-roll" role="grid" aria-label="Piano Roll Sequencer">
                {sequence.map((active, i) => (
                  <div
                    key={i} 
                    className={`note ${active ? "active" : ""}`}
                    onClick={() => toggleBeat(i)}
                    role="button"
                    tabIndex="0"
                    aria-label={`Toggle beat ${i + 1}`}
                    onKeyDown={e => { if (e.key === 'Enter' || e.key === ' ') toggleBeat(i); }}
                  >
                    <span className="note-label">{i+1}</span>
                  </div>
                ))}
              </div>

              <div className="text2music">
                <input 
                  id="prompt" 
                  type="text"
                  placeholder="Describe music (e.g., 'chill tabla groove' or 'epic orchestral swell')"
                  aria-label="Enter music description prompt"
                />
                <button 
                  className="btn btn-secondary" 
                  onClick={callGenerate} 
                  disabled={isGenerating}
                  aria-label="Generate music from text prompt"
                >
                  <i className="fas fa-wand-magic-sparkles"></i> 
                  {isGenerating ? "Generating..." : "üéôÔ∏è Generate via AI"}
                  {isGenerating && <div className="loader"></div>}
                </button>
              </div>
            </div>
          </div>

          <div className="panel">
            <h2 className="panel-title">
              <i className="fas fa-preset"></i> Beautiful Presets
            </h2>

            <div className="presets-grid">
              <div className="preset-card" onClick={() => { 
                setScale("Pentatonic"); 
                setChordType("Sus4"); 
                setInstrument("Piano"); 
                setEmotion("Nostalgic");
                applyEmotionSettings(EMOTIONS.Nostalgic);
              }}
                role="button"
                tabIndex="0"
                aria-label="Apply Moonlight Sonata preset"
                onKeyDown={e => {
                  if (e.key === 'Enter' || e.key === ' ') {
                    setScale("Pentatonic");
                    setChordType("Sus4");
                    setInstrument("Piano");
                    setEmotion("Nostalgic");
                    applyEmotionSettings(EMOTIONS.Nostalgic);
                  }
                }}
              >
                <h4>Moonlight</h4>
                <p>Gentle piano with emotional depth and nostalgic undertones</p>
                <div className="preset-tags">
                  <div className="tag">Classical</div>
                  <div className="tag">Piano</div>
                  <div className="tag">Romantic</div>
                </div>
              </div>

              <div className="preset-card" onClick={() => { 
                setScale("Harmonic_Minor"); 
                setChordType("Minor7"); 
                setInstrument("Strings"); 
                setEmotion("Mysterious");
                applyEmotionSettings(EMOTIONS.Mysterious);
              }}
                role="button"
                tabIndex="0"
                aria-label="Apply Mystic Journey preset"
                onKeyDown={e => {
                  if (e.key === 'Enter' || e.key === ' ') {
                    setScale("Harmonic_Minor");
                    setChordType("Minor7");
                    setInstrument("Strings");
                    setEmotion("Mysterious");
                    applyEmotionSettings(EMOTIONS.Mysterious);
                  }
                }}
              >
                <h4>Mystical Journey</h4>
                <p>Ethereal strings with mysterious chords and atmospheric depth</p>
                <div className="preset-tags">
                  <div className="tag">Cinematic</div>
                  <div className="tag">Strings</div>
                  <div className="tag">Mysterious</div>
                </div>
              </div>

             <div className="preset-card" onClick={() => { 
                setScale("Blues"); 
                setChordType("Seventh"); 
                setInstrument("Guitar"); 
                setEmotion("Energetic");
                applyEmotionSettings(EMOTIONS.Energetic);
              }}
                role="button"
                tabIndex="0"
                aria-label="Apply Blues Alley preset"
                onKeyDown={e => {
                  if (e.key === 'Enter' || e.key === ' ') {
                    setScale("Blues");
                    setChordType("Seventh");
                    setInstrument("Guitar");
                    setEmotion("Energetic");
                    applyEmotionSettings(EMOTIONS.Energetic);
                  }
                }}
              >
                <h4>Blues Alley</h4>
                <p>Soulful guitar with bluesy chords and raw energy</p>
                <div className="preset-tags">
                  <div className="tag">Blues</div>
                  <div className="tag">Guitar</div>
                  <div className="tag">Soulful</div>
                </div>
              </div>

              <div className="preset-card" onClick={() => { 
                setScale("Raga_Bhairav"); 
                setChordType("Add9"); 
                setInstrument("Marimba"); 
                setEmotion("Dreamy");
                applyEmotionSettings(EMOTIONS.Dreamy);
              }}
                role="button"
                tabIndex="0"
                aria-label="Apply Eastern Rhythm preset"
                onKeyDown={e => {
                  if (e.key === 'Enter' || e.key === ' ') {
                    setScale("Raga_Bhairav");
                    setChordType("Add9");
                    setInstrument("Marimba");
                    setEmotion("Dreamy");
                    applyEmotionSettings(EMOTIONS.Dreamy);
                  }
                }}
              >
                <h4>Eastern Dreams</h4>
                <p>Exotic marimba with complex rhythms and dreamy textures</p>
                <div className="preset-tags">
                  <div className="tag">World</div>
                  <div className="tag">Marimba</div>
                  <div className="tag">Exotic</div>
                </div>
              </div>

              <div className="preset-card" onClick={() => { 
                setScale("Chromatic"); 
                setChordType("Ninth"); 
                setInstrument("SynthLead"); 
                setEmotion("Energetic");
                applyEmotionSettings(EMOTIONS.Energetic);
              }}
                role="button"
                tabIndex="0"
                aria-label="Apply Cosmic Synth preset"
                onKeyDown={e => {
                  if (e.key === 'Enter' || e.key === ' ') {
                    setScale("Chromatic");
                    setChordType("Ninth");
                    setInstrument("SynthLead");
                    setEmotion("Energetic");
                    applyEmotionSettings(EMOTIONS.Energetic);
                  }
                }}
              >
                <h4>Cosmic Synth</h4>
                <p>Futuristic synth with vibrant chords and cosmic energy</p>
                <div className="preset-tags">
                  <div className="tag">Electronic</div>
                  <div className="tag">Synth</div>
                  <div className="tag">Futuristic</div>
                </div>
              </div>
            </div>
          </div>

          <div className="status-bar">
            <div className="status-item">
              <div className="status-indicator"></div>
              <span>AI Model: Ready</span>
            </div>
            <div className="status-item">
              <i className="fas fa-bolt icon"></i>
              <span>Tempo: {tempo} BPM</span>
            </div>
            <div className="status-item">
              <i className="fas fa-microchip icon"></i>
              <span>Polyphony: 64 voices</span>
            </div>
            <div className="status-item">
              <i className="fas fa-brain icon"></i>
              <span>Emotion: {emotion}</span>
            </div>
          </div>

          <footer>
            <p>SynthAI Pro ¬© {new Date().getFullYear()} - Powered by xAI Music Technologies</p>
          </footer>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App />);
  </script>
</body>
</html>